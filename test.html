<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Raw Device Info Response</title>
    <style>
        pre {
            margin: 20px;
            padding: 15px;
            border: 1px solid #ddd;
            background: #f5f5f5;
            white-space: pre-wrap;
            max-width: 600px;
        }
        button {
            padding: 8px 20px;
            background: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            margin: 20px;
        }
    </style>
</head>
<body>
    <button onclick="getRawDeviceInfo()">获取设备信息原始响应</button>
    <pre id="raw-output">点击按钮查看原始响应</pre>

    <script>
        // 原生回调入口 (完全原始输出)
        window.jsb = {
            handleMessage: function(rawJsonString) {
                document.getElementById('raw-output').textContent = 
                    "【原始响应】\n" + rawJsonString;
            }
        };

        // 真实调用逻辑
        function getRawDeviceInfo() {
            const callbackId = `dev_${Date.now()}`;
            
            try {
                // 实际JSBridge调用
                window.JsRuntime.invoke(
                    'getDeviceInfo',      // 方法名
                    '{}',                 // 空参数
                    callbackId            // 唯一回调ID
                );
                
                // 超时处理（5秒）
                setTimeout(() => {
                    document.getElementById('raw-output').textContent = 
                        `【超时响应】\n${JSON.stringify({
                            callbackId: callbackId,
                            errCode: 408,
                            message: "TIMEOUT"
                        }, null, 2)}`;
                }, 5000);

            } catch (error) {
                document.getElementById('raw-output').textContent = 
                    `【错误响应】\n${JSON.stringify({
                        error: error.toString(),
                        timestamp: Date.now()
                    }, null, 2)}`;
            }
        }
    </script>
</body>
</html>